<!DOCTYPE html>
<html>
<head>
<title>Bataille navale: Documentation</title>
<meta charset="utf-8" />
<link rel="stylesheet" href="style.css" />
</head>

<body>

<div id = 'menu'>
	<a href="accueil.html">Accueil</a> <br />
	<a href="cahier_des_charges.html">cahier des charges</a> <br />
	 <a href="creer_projet.html">créer un projet LibGDX</a> <br />
    <a href="les_bases_du_projet.html">Composition du projet</a> <br />
	<a href="Les_Images_en_LibGDX.html">Placer une image en mémoire</a> <br />
	<a href="les_bases_du_painting.html">Afficher une image</a> <br />
	<a href="screens.html">Les Screen</a> <br />
	<a href="sons.html">les Sons</a> <br />
	<a href="reaction.html">L'interaction avec l'utilisateur</a> <br />
	<a href="accélérométrie.html">L'accélérométrie</a> <br />
	<a href="intelligence_artificielle.html">Intelligence artificielle</a> <br />
	<a href="reseau.html">Réseau</a></p>
</div>

<div id = 'body'>
<h1>Les Sons et Musiques</h1>

<p>Avouez qu'un jeu sans musique est un jeu plutôt fade. L'ambiance d'un jeu vidéo est primordiale pour être appréciée de ces utilisateurs.
C'est pourquoi LibGDX met à disposition deux classes très simples d'utilisation : Sound pour les sons, et Music pour la musique d'ambiance.
Si ces deux classes s'utilisent de la même manière, il est important de comprendre la différence entre les deux modes: ce n'est pas par hasard que LibGDX (ainsi que toutes les librairies de sons utilisées) fonctionne différemment avec les sons et les musiques </p>

<h2>Une question de place mémoire</h2>

<p>En effet, les sons représentent une ressource très lourde: plus lourde encore que les images et leur Texture.
Les sons (classe Sound) sont par définition un bruit court. Par exemple lorsque Mario attrape une pièce, lorsque vous perdez une vie dans la plupart des jeux, ou encore lorsque vous touchez un bateau dans notre jeu.
Ce sont des ressources lourdes mais nous pouvons tout de même les placer entièrement en mémoire, tout comme nous le faisons avec les Textures. 
Il faut simplement veiller à les ajouter <code>au plus tard</code> et les supprimer <code>au plus tôt</code>.</p>

<p>Les musiques (classe Music) sont non seulement des ressources lourdes, mais également très longues (plusieurs minutes). Si vous placez directement une musique de 5 minutes en mémoire, vous allez placer plusieurs Mo en mémoire. Pourtant, vous n'allez lire que quelques octets par seconde. C'est donc une méthode trop gourmande pour être viable dans un contexte où les ressources sont primordiales.
Il faut donc utiliser le Streaming: un thread va s'occuper de lire le fichier de musique et récupèrer seulement ce dont il a réellement besoin.
Rassurez-vous, grâce à LibGDX, c'est bien plus simple qu'il n'y parait.</p>

<h2>Jouer un Son</h2>

<p>Commençons par jouer un son.</p>

<p>Il faut:</p>

<ul>
<li>Initialiser le son,</li>
<li>Le jouer au bon moment,</li>
<li>Le supprimer lorsqu'il n'est plus utilisé.</li>
</ul>

<p>Pour l'initialiser, nous n'allons pas utiliser directement le constructeur (bien que nous pourrions) car le manager de LibGDX ne fonctionne que si on utilise la méthode <code>GDX.Audio.newSound()</code>. Ce manager permet de faire dispose automatiquement lorsque le jeu est en pause (cycle de vie: handler on_pause).
    Sound sound = Gdx.Audio.newSound(Gdx.file.internal(...)); //initialisation au début
    sound.play(); //joue le son
    sound.dispose(); //Supprime le son de la mémoire.</p>

<h2>Jouer une Musique</h2>

<p>Jouer une musique est tout à fait similaire à jouer un son. LibGDX s'occupe lui-même de faire le streaming pour la musique. Le code est donc très similaire :
    Music music = Gdx.Audio.newMusic(Gdx.file.internal(...));
    music.play();
    music.setLoop(true); //Facultatif, vrai par défaut
    music.dispose();</p>
</div>

</body>
</html>